(FormBuilder=FormBuilder||{}).Admin=FormBuilder.Admin||{},FormBuilder.Admin.Conditional=function(e){function o(){e(document).ready(function(){"mod-form"==pagenow&&(this.populateSelectFields(),this.handleEvents())}.bind(this))}return o.prototype.populateSelectFields=function(){e('[data-name="conditonal_field"] select').each(function(o,t){var i="",n=e(":selected",t);if(n.val())i=n.val();else{var a=e(t).attr("name");e.ajax({url:ajaxurl,type:"post",data:{action:"get_selected_field",moduleId:modularity_current_post_id,fieldName:a},success:function(o){"error"!=o&&e("option[value='"+o+"']",t).prop("selected",!0)}})}e("optgroup, option",t).remove();var r=this.getOptions();void 0!==r&&r.length>0?(e(".condition-missing").remove(),e.each(r,function(o,n){var a="";e.each(n.selectvalues,function(e,o){var t={label:this.conditionalString(n.groupLabel),value:this.conditionalString(o)};a+="<option value='"+JSON.stringify(t)+"'>"+o+"</option>"}.bind(this));var r='<optgroup label="'+n.groupLabel+'">'+a+"</optgroup>";e(t).append(r),i&&e("option[value='"+i+"']",t).prop("selected",!0)}.bind(this))):(e(".condition-missing").remove(),e('<p class="condition-missing">'+formbuilder.selections_missing+"</p>").insertBefore(t))}.bind(this))},o.prototype.getOptions=function(o){var t=[];return e('[data-layout="radio"]:not(.acf-clone)').each(function(o,i){var n={groupLabel:e(i).find('[data-name="label"] input').val(),selectvalues:[]};e('[data-key="field_58eb670d39fef"] table tbody',i).children("tr.acf-row:not(.acf-clone)").each(function(o,t){var i=e(t).find('[data-name="value"] input').val();n.selectvalues.push(i)}),t.push(n)}),t},o.prototype.conditionalString=function(e){return e=e.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_]+/gi,""),e=e.replace(/_+$/,"")},o.prototype.handleEvents=function(){e(document).on("click",'[data-name="conditional_logic"] [type="checkbox"], [data-layout="radio"] .acf-row-handle > a',function(){this.populateSelectFields()}.bind(this))},new o}(jQuery);var FormBuilder=FormBuilder||{};(FormBuilder=FormBuilder||{}).Admin=FormBuilder.Admin||{},FormBuilder.Admin.various=function(e){function o(){e(function(){this.externalUpload()}.bind(this))}return o.prototype.externalUpload=function(){formbuilder.mod_form_authorized||e('[data-name="upload_videos_external"]').hide()},new o}(jQuery);